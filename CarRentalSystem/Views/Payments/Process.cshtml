@model CarRentalSystem.Models.Booking

@{
    ViewData["Title"] = "Secure Checkout";
}

<div class="row justify-content-center animate-up">
    <div class="col-md-10 col-lg-8">
        <div class="premium-card">
            <div class="row g-4">
                <!-- Order Summary Side -->
                <div class="col-md-5 border-end border-secondary border-opacity-25 pe-md-5">
                    <div class="mb-4">
                        <span class="text-secondary small fw-bold text-uppercase tracking-widest d-block mb-1">Order Summary</span>
                        <h2 class="fw-bold text-white">Payment <span class="text-success">Portal</span></h2>
                    </div>

                    <div class="p-3 rounded-4 bg-white bg-opacity-5 mb-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-success bg-opacity-10 p-2 rounded-3 me-3">
                                <i class="bi bi-car-front text-success fs-4"></i>
                            </div>
                            <div>
                                <div class="fw-bold text-white small">Vehicle</div>
                                <div class="text-secondary small">@Model?.Car?.Brand @Model?.Car?.Model</div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span class="text-secondary small">Booking ID</span>
                            <span class="text-white small fw-semibold">#@Model?.Id</span>
                        </div>
                        <hr class="border-secondary opacity-25" />
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <span class="text-secondary fw-bold">Total Amount</span>
                            <span class="display-6 fw-bold text-primary">@Model?.TotalAmount.ToString("C")</span>
                        </div>
                    </div>

                    <div class="alert alert-success bg-success bg-opacity-10 border-0 text-success small rounded-4 p-3">
                        <i class="bi bi-shield-check-fill me-2"></i> Your connection is encrypted and payment is processed securely.
                    </div>
                </div>

                <!-- Payment Form Side -->
                <div class="col-md-7 ps-md-5">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h4 class="fw-bold text-white mb-0">Card Details</h4>
                        <div class="fs-2 text-secondary opacity-50">
                            <i class="bi bi-credit-card-2-front"></i>
                        </div>
                    </div>

                    <form asp-action="ProcessPost" method="post">
                        <input type="hidden" name="bookingId" value="@Model?.Id" />
                        
                        <div class="mb-4">
                            <label class="form-label text-secondary fw-semibold small text-uppercase">Cardholder Name</label>
                            <input type="text" class="form-control" placeholder="John Doe" required />
                        </div>

                        <div class="mb-4">
                            <label class="form-label text-secondary fw-semibold small text-uppercase">Card Number</label>
                            <div class="input-group">
                                <span class="input-group-text bg-transparent border-end-0 text-secondary">
                                    <i class="bi bi-credit-card"></i>
                                </span>
                                <input type="text" class="form-control border-start-0 ps-0" placeholder="0000 0000 0000 0000" maxlength="19" required />
                            </div>
                        </div>

                        <div class="row g-3">
                            <div class="col-6">
                                <label class="form-label text-secondary fw-semibold small text-uppercase">Expiry</label>
                                <input type="text" class="form-control" placeholder="MM/YY" maxlength="5" required />
                            </div>
                            <div class="col-6">
                                <label class="form-label text-secondary fw-semibold small text-uppercase">CVV</label>
                                <input type="password" class="form-control" placeholder="***" maxlength="3" required />
                            </div>
                        </div>

                        <div class="d-grid mt-5">
                            <button type="submit" class="btn-premium py-3 fs-5">Confirm & Pay @Model?.TotalAmount.ToString("C")</button>
                        </div>
                        
                        <div class="text-center mt-3">
                            <p class="text-secondary small mb-0"><i class="bi bi-info-circle me-1"></i> Mode: **Experimental Sandbox**</p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
